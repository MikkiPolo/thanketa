# –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 1000 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üéØ –¶–µ–ª—å
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ **1000 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** —Å –≤—Ä–µ–º–µ–Ω–µ–º –æ—Ç–≤–µ—Ç–∞ < 2 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è 95% –∑–∞–ø—Ä–æ—Å–æ–≤.

---

## üìä –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–∏:
1. **Gunicorn**: 1 worker = –º–∞–∫—Å–∏–º—É–º 4 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞
2. **–ü–∞–º—è—Ç—å**: rembg –º–æ–¥–µ–ª—å (~300 MB) –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –∫–∞–∂–¥—ã–π worker
3. **–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**: —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞, AI –∞–Ω–∞–ª–∏–∑ –±–ª–æ–∫–∏—Ä—É—é—Ç threads
4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: Supabase –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –ª–∏–º–∏—Ç—ã –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
5. **OpenAI API**: rate limits (500 RPM –Ω–∞ pay-as-you-go tier)
6. **–í–Ω–µ—à–Ω–∏–µ API**: –±—Ä–µ–Ω–¥–æ–≤—ã–π API –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (Multiple Servers)

#### –í–∞—Ä–∏–∞–Ω—Ç A: Docker Swarm / Kubernetes
```yaml
# docker-compose.scale.yml
version: '3.8'

services:
  backend:
    deploy:
      replicas: 10  # 10 –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –±—ç–∫–µ–Ω–¥–∞
      resources:
        limits:
          cpus: '2'
          memory: 2G
    environment:
      - GUNICORN_WORKERS=2
      - GUNICORN_THREADS=4
```

**–†–∞—Å—á–µ—Ç:**
- 10 —Å–µ—Ä–≤–µ—Ä–æ–≤ √ó 2 workers √ó 4 threads = **80 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**
- –î–ª—è 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω—É–∂–Ω–æ: **~13-15 —Å–µ—Ä–≤–µ—Ä–æ–≤**

#### –í–∞—Ä–∏–∞–Ω—Ç B: Load Balancer + Multiple VPS
- **Nginx Load Balancer** (1 —Å–µ—Ä–≤–µ—Ä)
- **Backend Servers** (15-20 —Å–µ—Ä–≤–µ—Ä–æ–≤)
- **Redis Cluster** (–¥–ª—è shared cache)
- **Database**: Supabase (–∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π PostgreSQL)

---

## üîß –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

#### 1.1. –£–≤–µ–ª–∏—á–∏—Ç—å Gunicorn workers
```yaml
# docker-compose.full.yml
environment:
  - GUNICORN_WORKERS=4  # –≤–º–µ—Å—Ç–æ 1
  - GUNICORN_THREADS=8  # –≤–º–µ—Å—Ç–æ 4
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 4 workers √ó 8 threads = **32 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä**

#### 1.2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å –¥–ª—è rembg
```python
# backend/app.py
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å shared memory –¥–ª—è –º–æ–¥–µ–ª–∏ u2net
# –ò–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –í—ã–Ω–µ—Å—Ç–∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å —Å GPU

#### 1.3. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—è–∂–µ–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Celery + Redis –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
from celery import Celery

celery_app = Celery('wardrobe', broker='redis://redis:6379/0')

@celery_app.task
def remove_background_async(image_data):
    # –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –≤ —Ñ–æ–Ω–µ
    pass

@celery_app.task
def analyze_wardrobe_item_async(item_id):
    # AI –∞–Ω–∞–ª–∏–∑ –≤ —Ñ–æ–Ω–µ
    pass
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢—è–∂–µ–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ workers

---

### –≠—Ç–∞–ø 2: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 2.1. Load Balancer (Nginx)
```nginx
# nginx.conf
upstream backend_pool {
    least_conn;  # –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–∞–∏–º–µ–Ω—å—à–µ–º—É –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
    server backend1:5001;
    server backend2:5001;
    server backend3:5001;
    # ... –¥–æ 15-20 —Å–µ—Ä–≤–µ—Ä–æ–≤
    keepalive 32;
}

server {
    listen 80;
    
    location /api/ {
        proxy_pass http://backend_pool;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 120s;
    }
}
```

#### 2.2. Redis Cluster –¥–ª—è shared cache
```yaml
# docker-compose.scale.yml
services:
  redis:
    image: redis:7-alpine
    command: redis-server --appendonly yes --maxmemory 2gb --maxmemory-policy allkeys-lru
    volumes:
      - redis_data:/data
    deploy:
      replicas: 3  # Redis cluster –¥–ª—è –≤—ã—Å–æ–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
```

#### 2.3. Database Connection Pooling
```python
# backend/config.py
from sqlalchemy import create_engine
from sqlalchemy.pool import QueuePool

# Connection pool –¥–ª—è Supabase
SUPABASE_POOL_SIZE = 20
SUPABASE_MAX_OVERFLOW = 10
```

---

### –≠—Ç–∞–ø 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### 3.1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö

**Frontend (Browser):**
```javascript
// –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ localStorage
localStorage.setItem('wardrobe_cache', JSON.stringify(wardrobe));
localStorage.setItem('capsules_cache', JSON.stringify(capsules));
```

**Backend (Redis):**
```python
# –£–≤–µ–ª–∏—á–∏—Ç—å TTL –¥–ª—è –∫–∞–ø—Å—É–ª
CACHE_TTL = 86400  # 24 —á–∞—Å–∞ –≤–º–µ—Å—Ç–æ 1 —á–∞—Å–∞

# –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
@lru_cache(maxsize=1000)
def get_user_profile(telegram_id):
    # ...
```

**CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Cloudflare –∏–ª–∏ AWS CloudFront
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–∞—Ä–¥–µ—Ä–æ–±–∞

#### 3.2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ Supabase
```python
# Batch –∑–∞–ø—Ä–æ—Å—ã –≤–º–µ—Å—Ç–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –ø–æ–ª—è—Ö
# Connection pooling
```

#### 3.3. Rate Limiting –¥–ª—è OpenAI API
```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å –¥–ª—è OpenAI –∑–∞–ø—Ä–æ—Å–æ–≤
from redis import Redis
import time

redis_client = Redis()

def rate_limited_openai_call(func):
    def wrapper(*args, **kwargs):
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º rate limit
        current_minute = int(time.time() / 60)
        key = f"openai_rate_limit:{current_minute}"
        count = redis_client.incr(key)
        redis_client.expire(key, 60)
        
        if count > 500:  # 500 RPM limit
            # –î–æ–±–∞–≤–ª—è–µ–º –≤ –æ—á–µ—Ä–µ–¥—å
            redis_client.lpush("openai_queue", json.dumps({"func": func.__name__, "args": args, "kwargs": kwargs}))
            return {"status": "queued"}
        
        return func(*args, **kwargs)
    return wrapper
```

---

### –≠—Ç–∞–ø 4: –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### 4.1. –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–æ–Ω–∞
```yaml
# background-removal-service
services:
  background-removal:
    image: rembg-service:latest
    deploy:
      replicas: 5  # 5 –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
    environment:
      - MODEL=u2net
      - GPU_ENABLED=true
```

#### 4.2. –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è AI –∞–Ω–∞–ª–∏–∑–∞
```yaml
# ai-analysis-service
services:
  ai-analysis:
    image: ai-service:latest
    deploy:
      replicas: 3
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - RATE_LIMIT=500
```

#### 4.3. Message Queue –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
```yaml
# RabbitMQ –∏–ª–∏ Redis Queue
services:
  rabbitmq:
    image: rabbitmq:3-management
    environment:
      - RABBITMQ_DEFAULT_USER=admin
      - RABBITMQ_DEFAULT_PASS=password
```

---

## üíª –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –í–∞—Ä–∏–∞–Ω—Ç 1: VPS (—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- **Load Balancer**: 1 —Å–µ—Ä–≤–µ—Ä (2 CPU, 2 GB RAM) - $20/–º–µ—Å
- **Backend Servers**: 15 —Å–µ—Ä–≤–µ—Ä–æ–≤ (4 CPU, 8 GB RAM –∫–∞–∂–¥—ã–π) - $50/–º–µ—Å √ó 15 = $750/–º–µ—Å
- **Redis Cluster**: 3 —Å–µ—Ä–≤–µ—Ä–∞ (2 CPU, 4 GB RAM –∫–∞–∂–¥—ã–π) - $30/–º–µ—Å √ó 3 = $90/–º–µ—Å
- **Database**: Supabase Pro –∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π PostgreSQL - $25-100/–º–µ—Å

**–ò—Ç–æ–≥–æ:** ~$900-1000/–º–µ—Å—è—Ü

### –í–∞—Ä–∏–∞–Ω—Ç 2: Cloud (AWS / Google Cloud / Azure)

**AWS:**
- **Application Load Balancer**: $20/–º–µ—Å
- **EC2 Instances** (t3.medium): 15 √ó $60/–º–µ—Å = $900/–º–µ—Å
- **ElastiCache (Redis)**: $100/–º–µ—Å
- **RDS (PostgreSQL)**: $100/–º–µ—Å
- **CloudFront (CDN)**: $50/–º–µ—Å

**–ò—Ç–æ–≥–æ:** ~$1170/–º–µ—Å—è—Ü

### –í–∞—Ä–∏–∞–Ω—Ç 3: Kubernetes (GKE / EKS / AKS)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ kubectl

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$800-1200/–º–µ—Å—è—Ü (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–≥–∏–æ–Ω–∞)

---

## üìà –†–∞—Å—á–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –û–¥–∏–Ω –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:
- 4 workers √ó 8 threads = **32 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞**
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 500ms (–ª–µ–≥–∫–∏–µ), 3s (—Å—Ä–µ–¥–Ω–∏–µ), 10s (—Ç—è–∂–µ–ª—ã–µ)
- –ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å: ~**40-60 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

### 15 —Å–µ—Ä–≤–µ—Ä–æ–≤ —Å Load Balancer:
- 15 √ó 32 = **480 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**
- –° —É—á–µ—Ç–æ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (70% –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ –∫—ç—à–∞): **~1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

### –° –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π:
- –¢—è–∂–µ–ª—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ workers
- **~1200-1500 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (—Å –∑–∞–ø–∞—Å–æ–º)

---

## üöÄ –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è (–ø–æ—ç—Ç–∞–ø–Ω–æ)

### –§–∞–∑–∞ 1: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (1-2 –Ω–µ–¥–µ–ª–∏)
1. ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å Gunicorn workers –¥–æ 4
2. ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å threads –¥–æ 8
3. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (TTL 24 —á–∞—Å–∞)
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å connection pooling –¥–ª—è Supabase
5. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus + Grafana)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ~40-60 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –§–∞–∑–∞ 2: –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 –Ω–µ–¥–µ–ª–∏)
1. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Load Balancer (Nginx)
2. ‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å 3-5 backend —Å–µ—Ä–≤–µ—Ä–æ–≤
3. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis Cluster
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å health checks –∏ auto-scaling

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ~200-300 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –§–∞–∑–∞ 3: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (2-3 –Ω–µ–¥–µ–ª–∏)
1. ‚úÖ –í–Ω–µ–¥—Ä–∏—Ç—å Celery –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
2. ‚úÖ –í—ã–Ω–µ—Å—Ç–∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ –≤ –æ—á–µ—Ä–µ–¥—å
3. ‚úÖ –í—ã–Ω–µ—Å—Ç–∏ AI –∞–Ω–∞–ª–∏–∑ –≤ –æ—á–µ—Ä–µ–¥—å
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—á–µ—Ä–µ–¥–µ–π

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ~500-700 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –§–∞–∑–∞ 4: –ü–æ–ª–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (1-2 –Ω–µ–¥–µ–ª–∏)
1. ‚úÖ –£–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–µ—Ä–æ–≤ –¥–æ 15-20
2. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
3. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–∏–Ω–¥–µ–∫—Å—ã, –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
4. ‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç–∏–Ω–≥ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** **1000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

---

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

### –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
1. **Response Time**: p50, p95, p99
2. **Throughput**: –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
3. **Error Rate**: –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫
4. **CPU/RAM Usage**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
5. **Queue Length**: –¥–ª–∏–Ω–∞ –æ—á–µ—Ä–µ–¥–∏ Celery
6. **Cache Hit Rate**: –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–π –≤ –∫—ç—à

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:
- **Prometheus** + **Grafana** –¥–ª—è –º–µ—Ç—Ä–∏–∫
- **ELK Stack** (Elasticsearch, Logstash, Kibana) –¥–ª—è –ª–æ–≥–æ–≤
- **Sentry** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
- **Uptime Robot** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### 1. OpenAI API Rate Limits
- **Pay-as-you-go**: 500 RPM
- –î–ª—è 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω—É–∂–Ω–æ: **~10,000 RPM**
- **–†–µ—à–µ–Ω–∏–µ**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Enterprise tier** –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ API –∫–ª—é—á–µ–π —Å —Ä–æ—Ç–∞—Ü–∏–µ–π

### 2. Supabase Limits
- **Free tier**: 500 MB –±–∞–∑–∞, 1 GB storage
- **Pro tier**: 8 GB –±–∞–∑–∞, 100 GB storage
- –î–ª—è 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: –Ω—É–∂–µ–Ω **Pro tier** –∏–ª–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π PostgreSQL

### 3. –°—Ç–æ–∏–º–æ—Å—Ç—å OpenAI API
- –ü—Ä–∏ 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: ~$500-1000/–º–µ—Å—è—Ü (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

### 4. –ü–∞–º—è—Ç—å –¥–ª—è rembg
- –ú–æ–¥–µ–ª—å u2net: ~300 MB –Ω–∞ worker
- –ü—Ä–∏ 15 —Å–µ—Ä–≤–µ—Ä–∞—Ö √ó 4 workers = 60 workers √ó 300 MB = **18 GB —Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–¥–µ–ª–∏**
- **–†–µ—à–µ–Ω–∏–µ**: shared memory –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Load Balancer (Nginx)
- [ ] –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å 15-20 backend —Å–µ—Ä–≤–µ—Ä–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis Cluster (3+ –Ω–æ–¥—ã)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus + Grafana)

### –ö–æ–¥:
- [ ] –£–≤–µ–ª–∏—á–∏—Ç—å GUNICORN_WORKERS –¥–æ 4
- [ ] –£–≤–µ–ª–∏—á–∏—Ç—å GUNICORN_THREADS –¥–æ 8
- [ ] –í–Ω–µ–¥—Ä–∏—Ç—å Celery –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (TTL 24 —á–∞—Å–∞)
- [ ] –î–æ–±–∞–≤–∏—Ç—å connection pooling
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å rate limiting –¥–ª—è OpenAI

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- [ ] –û–±–Ω–æ–≤–∏—Ç—å Supabase –¥–æ Pro tier
- [ ] –ò–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π PostgreSQL
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –ø–æ–ª—è—Ö
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–ø–ª–∏–∫–∞—Ü–∏—é (read replicas)

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ (Sentry)

---

## üí∞ –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (VPS):
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: ~$900-1000/–º–µ—Å—è—Ü
- **OpenAI API**: ~$500-1000/–º–µ—Å—è—Ü
- **Supabase Pro**: ~$25/–º–µ—Å—è—Ü
- **CDN**: ~$50/–º–µ—Å—è—Ü

**–ò—Ç–æ–≥–æ:** ~$1500-2100/–º–µ—Å—è—Ü

### –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (Cloud):
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: ~$1200/–º–µ—Å—è—Ü
- **OpenAI API**: ~$500-1000/–º–µ—Å—è—Ü
- **Database**: ~$100/–º–µ—Å—è—Ü
- **CDN**: ~$50/–º–µ—Å—è—Ü

**–ò—Ç–æ–≥–æ:** ~$1850-2350/–º–µ—Å—è—Ü

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ù–∞—á–Ω–∏—Ç–µ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞** (–§–∞–∑–∞ 1)
2. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ** (–§–∞–∑–∞ 2 ‚Üí 3 ‚Üí 4)
3. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫–∏** –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ—Å–∫–µ–π–ª–∏–Ω–≥** –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
5. **–ö—ç—à–∏—Ä—É–π—Ç–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ** - —ç—Ç–æ —Å–∞–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìû –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –§–∞–∑—É 1 (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –Ω–∞–≥—Ä—É–∑–∫–µ 50-100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –ò–∑–º–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —É–∑–∫–∏–µ –º–µ—Å—Ç–∞
4. –ü–µ—Ä–µ–π—Ç–∏ –∫ –§–∞–∑–µ 2 (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
5. –ü–æ–≤—Ç–æ—Ä—è—Ç—å –¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

