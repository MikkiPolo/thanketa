# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

## üìä –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Backend (Gunicorn)
- **Workers**: 1 –ø—Ä–æ—Ü–µ—Å—Å
- **Threads**: 4 –ø–æ—Ç–æ–∫–∞ –Ω–∞ worker
- **–ú–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**: 4
- **Timeout**: 120 —Å–µ–∫—É–Ω–¥
- **–ü–∞–º—è—Ç—å –Ω–∞ worker**: ~200-500 MB (—Å rembg –º–æ–¥–µ–ª—å—é u2net)

### Frontend
- **Nginx**: —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–¥–∞—á–∞
- **–ü–∞–º—è—Ç—å**: ~50-100 MB

### Redis
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–ø—Å—É–ª (TTL: 1 —á–∞—Å)
- **–ü–∞–º—è—Ç—å**: ~100-500 MB (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–ø—Å—É–ª)

### Supabase
- **PostgreSQL**: –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Storage**: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–∞—Ä–¥–µ—Ä–æ–±–∞
- **–õ–∏–º–∏—Ç—ã**: –∑–∞–≤–∏—Å—è—Ç –æ—Ç –ø–ª–∞–Ω–∞ Supabase

---

## üîç –ê–Ω–∞–ª–∏–∑ —É–∑–∫–∏—Ö –º–µ—Å—Ç (Bottlenecks)

### 1. **–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞ (rembg)**
- **–û–ø–µ—Ä–∞—Ü–∏—è**: `/remove-background`
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 2-5 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- **–†–µ—Å—É—Ä—Å—ã**: CPU/GPU –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
- **–ú–æ–¥–µ–ª—å**: u2net (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ)
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –±–ª–æ–∫–∏—Ä—É–µ—Ç worker –Ω–∞ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

### 2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–ø—Å—É–ª (rule-based)**
- **–û–ø–µ—Ä–∞—Ü–∏—è**: `/generate-capsules` (rule engine)
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 2-5 —Å–µ–∫—É–Ω–¥
- **–†–µ—Å—É—Ä—Å—ã**: CPU (–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–∏—Å–∫–æ–≤, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è)
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º –ø—Ä–∏ –±–æ–ª—å—à–æ–º –≥–∞—Ä–¥–µ—Ä–æ–±–µ (50+ –≤–µ—â–µ–π)

### 3. **AI –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (OpenAI)**
- **–û–ø–µ—Ä–∞—Ü–∏—è**: `/analyze-wardrobe-item`
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 3-8 —Å–µ–∫—É–Ω–¥
- **–†–µ—Å—É—Ä—Å—ã**: –≤–Ω–µ—à–Ω–∏–π API (OpenAI GPT-4o-mini)
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: rate limits OpenAI API, —Å–µ—Ç–µ–≤—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏

### 4. **–ß–∞—Ç —Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º (OpenAI Assistants API)**
- **–û–ø–µ—Ä–∞—Ü–∏—è**: `/chat-style` (streaming)
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 5-30 —Å–µ–∫—É–Ω–¥ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ø—Ä–æ—Å–∞)
- **–†–µ—Å—É—Ä—Å—ã**: –≤–Ω–µ—à–Ω–∏–π API, streaming –æ—Ç–≤–µ—Ç—ã
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –¥–æ–ª–≥–∏–µ –∑–∞–ø—Ä–æ—Å—ã –±–ª–æ–∫–∏—Ä—É—é—Ç thread

### 5. **–í–Ω–µ—à–Ω–∏–µ API**
- **–ë—Ä–µ–Ω–¥–æ–≤—ã–π API** (linapolo.ru): timeout 30 —Å–µ–∫, –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º
- **OpenWeatherMap**: –±—ã—Å—Ç—Ä—ã–π (~200-500ms)
- **Supabase**: –æ–±—ã—á–Ω–æ –±—ã—Å—Ç—Ä—ã–π, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ

---

## üë• –û—Ü–µ–Ω–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –õ–µ–≥–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã (–ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö)
- **–¢–∏–ø –∑–∞–ø—Ä–æ—Å–æ–≤**: –ø–æ–ª—É—á–µ–Ω–∏–µ –≥–∞—Ä–¥–µ—Ä–æ–±–∞, –ø—Ä–æ—Ñ–∏–ª—è, –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**: 100-500ms
- **–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: ~20-40 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–° Redis –∫—ç—à–µ–º**: ~50-100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –°—Ä–µ–¥–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–ø—Å—É–ª)
- **–¢–∏–ø –∑–∞–ø—Ä–æ—Å–æ–≤**: `/generate-capsules` (rule-based)
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**: 2-5 —Å–µ–∫—É–Ω–¥
- **–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: ~4-8 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–° –∫—ç—à–µ–º**: ~20-40 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –∏–∑ –∫—ç—à–∞)

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –¢—è–∂–µ–ª—ã–µ –∑–∞–ø—Ä–æ—Å—ã (AI –æ–ø–µ—Ä–∞—Ü–∏–∏)
- **–¢–∏–ø –∑–∞–ø—Ä–æ—Å–æ–≤**: —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞, AI –∞–Ω–∞–ª–∏–∑, —á–∞—Ç
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**: 3-30 —Å–µ–∫—É–Ω–¥
- **–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: ~2-4 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –±–ª–æ–∫–∏—Ä—É—é—Ç worker –Ω–∞ –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –°–º–µ—à–∞–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (—Ä–µ–∞–ª—å–Ω–∞—è)
- **–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ**: 70% –ª–µ–≥–∫–∏–µ, 20% —Å—Ä–µ–¥–Ω–∏–µ, 10% —Ç—è–∂–µ–ª—ã–µ
- **–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: ~10-15 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–° –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π**: ~30-50 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üíª –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- **CPU**: 2 —è–¥—Ä–∞
- **RAM**: 2 GB
- **–î–∏—Å–∫**: 20 GB SSD
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: ~5-10 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- **CPU**: 4 —è–¥—Ä–∞ (–ª—É—á—à–µ 6-8)
- **RAM**: 4-8 GB
- **–î–∏—Å–∫**: 50-100 GB SSD
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: ~30-50 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏)
- **CPU**: 8+ —è–¥–µ—Ä
- **RAM**: 16 GB
- **–î–∏—Å–∫**: 100+ GB SSD
- **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å**: ~100+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## ‚öôÔ∏è –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –£–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ Gunicorn workers
```yaml
# docker-compose.full.yml
environment:
  - GUNICORN_WORKERS=4  # –≤–º–µ—Å—Ç–æ 1
  - GUNICORN_THREADS=4  # –æ—Å—Ç–∞–≤–∏—Ç—å 4
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
- –ú–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤: 16 (4 workers √ó 4 threads)
- –ü–∞–º—è—Ç—å: ~800 MB - 2 GB (4 workers √ó 200-500 MB)

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π worker pool –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–õ–µ–≥–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã**: –æ—Å–Ω–æ–≤–Ω–æ–π pool (4 workers, 4 threads)
- **–¢—è–∂–µ–ª—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: –æ—Ç–¥–µ–ª—å–Ω—ã–π pool (2 workers, 2 threads) –∏–ª–∏ Celery

### 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Redis**: —É–≤–µ–ª–∏—á–∏—Ç—å TTL –¥–ª—è –∫–∞–ø—Å—É–ª –¥–æ 24 —á–∞—Å–æ–≤
- **Frontend**: –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ localStorage
- **Supabase**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å connection pooling

### 4. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—è–∂–µ–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ–Ω–∞**: –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—á–µ—Ä–µ–¥—å (Celery + Redis)
- **AI –∞–Ω–∞–ª–∏–∑**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å async/await –¥–ª—è OpenAI API
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞–ø—Å—É–ª**: –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π (–±—ã—Å—Ç—Ä–∞—è)

### 5. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ú–µ—Ç—Ä–∏–∫–∏**: CPU, RAM, –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ê–ª–µ—Ä—Ç—ã**: –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ 80% CPU/RAM
- **–ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å workers –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ

---

## üìà –ü—Ä–æ–≥–Ω–æ–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: 4 workers, 4 threads
- **–õ–µ–≥–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã**: ~80-160 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–°—Ä–µ–¥–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã**: ~16-32 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–¢—è–∂–µ–ª—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: ~8-16 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–°–º–µ—à–∞–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞**: ~40-80 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: 8 workers, 4 threads
- **–õ–µ–≥–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã**: ~160-320 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–°—Ä–µ–¥–Ω–∏–µ –∑–∞–ø—Ä–æ—Å—ã**: ~32-64 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–¢—è–∂–µ–ª—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: ~16-32 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–°–º–µ—à–∞–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞**: ~80-160 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. OpenAI API Rate Limits
- **Tier 1 (Free)**: 3 RPM (requests per minute)
- **Tier 2 (Pay-as-you-go)**: 500 RPM
- **Tier 3 (Enterprise)**: 10,000 RPM

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π tier –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### 2. Supabase Limits
- **Free tier**: 500 MB –±–∞–∑–∞, 1 GB storage
- **Pro tier**: 8 GB –±–∞–∑–∞, 100 GB storage
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å connection pooling

### 3. –ü–∞–º—è—Ç—å –¥–ª—è rembg
- **–ú–æ–¥–µ–ª—å u2net**: ~200-300 MB –≤ –ø–∞–º—è—Ç–∏
- **–ü—Ä–∏ 4 workers**: ~800 MB - 1.2 GB —Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–¥–µ–ª–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å shared memory –∏–ª–∏ –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

### –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (1 worker, 4 threads)
- **–ú–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: ~10-15
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–µ—Ä–≤–µ—Ä**: 2 CPU, 2 GB RAM
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: ~$10-20/–º–µ—Å—è—Ü (VPS)

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (4 workers, 4 threads)
- **–ú–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: ~40-80
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–µ—Ä–≤–µ—Ä**: 4 CPU, 4-8 GB RAM
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: ~$30-50/–º–µ—Å—è—Ü (VPS)

### –î–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ (8 workers, 4 threads)
- **–ú–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**: ~80-160
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–µ—Ä–≤–µ—Ä**: 8 CPU, 16 GB RAM
- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: ~$80-150/–º–µ—Å—è—Ü (VPS)

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

- [ ] –£–≤–µ–ª–∏—á–∏—Ç—å `GUNICORN_WORKERS` –¥–æ 4-8
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Redis –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏–º–∏—Ç—ã OpenAI API tier
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (CPU, RAM, –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞)
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–ø—Å—É–ª
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å connection pooling –¥–ª—è Supabase
- [ ] –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≤—ã–Ω–æ—Å —Ç—è–∂–µ–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –æ—á–µ—Ä–µ–¥—å (Celery)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ

