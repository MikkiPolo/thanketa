# –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞–ø—Å—É–ª

## üö® **–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**

### 1. **–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –æ–¥–µ–∂–¥—ã**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–ò –º–æ–¥–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:
- `–ø–ª–∞—Ç—å–µ + –¥–∂–∏–Ω—Å—ã` - –Ω–µ–ª—å–∑—è –Ω–∞–¥–µ—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- `–ø–ª–∞—Ç—å–µ + —é–±–∫–∞` - –Ω–µ–ª—å–∑—è –Ω–∞–¥–µ—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

**–ü—Ä–∏—á–∏–Ω–∞:** –ò–ò –º–æ–¥–µ–ª—å –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç –ª–æ–≥–∏–∫—É –æ–¥–µ–∂–¥—ã

### 2. **–ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞**
**–ü—Ä–æ–±–ª–µ–º–∞:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç 30+ —Å–µ–∫—É–Ω–¥
**–ü—Ä–∏—á–∏–Ω–∞:** 
- Llama2:7b - –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Å–ª–∞–±–∞—è –º–æ–¥–µ–ª—å
- –°–ª–æ–∂–Ω—ã–π –ø—Ä–æ–º–ø—Ç —Å 50+ –≤–µ—â–∞–º–∏
- –ù–µ—Ç GPU —É—Å–∫–æ—Ä–µ–Ω–∏—è –Ω–∞ VPS

### 3. **–°–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –∫–∞–ø—Å—É–ª –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç
**–ü—Ä–∏—á–∏–Ω–∞:** –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç fallback –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫

## ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

### 1. **–£–ª—É—á—à–µ–Ω–Ω—ã–π –ø—Ä–æ–º–ø—Ç**
```python
–ü–†–ê–í–ò–õ–ê –ö–û–ú–ë–ò–ù–ò–†–û–í–ê–ù–ò–Ø:
- –ù–ï–õ–¨–ó–Ø –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å: –ø–ª–∞—Ç—å–µ + —é–±–∫–∞, –ø–ª–∞—Ç—å–µ + –¥–∂–∏–Ω—Å—ã, –ø–ª–∞—Ç—å–µ + –±—Ä—é–∫–∏
- –ú–û–ñ–ù–û –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å: –±–ª—É–∑–∫–∞ + —é–±–∫–∞, –±–ª—É–∑–∫–∞ + –¥–∂–∏–Ω—Å—ã, –±–ª—É–∑–∫–∞ + –±—Ä—é–∫–∏
- –ü–ª–∞—Ç—å–µ - —ç—Ç–æ —Ü–µ–ª—å–Ω—ã–π –æ–±—Ä–∞–∑, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –≤–µ—â–µ–π —Å–Ω–∏–∑—É
- –Æ–±–∫–∞/–¥–∂–∏–Ω—Å—ã/–±—Ä—é–∫–∏ —Ç—Ä–µ–±—É—é—Ç –±–ª—É–∑–∫—É/—Ñ—É—Ç–±–æ–ª–∫—É/—Ä—É–±–∞—à–∫—É —Å–≤–µ—Ä—Ö—É
```

### 2. **–§—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏**
```python
def _fix_capsule_items(self, items: List[int], wardrobe_dict: Dict) -> List[int]:
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –ø–ª–∞—Ç—å—è
    has_dress = any(wardrobe_dict.get(item_id, {}).get('category', '').lower() in ['–ø–ª–∞—Ç—å–µ', 'dress'] 
                   for item_id in items)
    
    if has_dress:
        # –ï—Å–ª–∏ –µ—Å—Ç—å –ø–ª–∞—Ç—å–µ, —É–±–∏—Ä–∞–µ–º —é–±–∫–∏/–¥–∂–∏–Ω—Å—ã/–±—Ä—é–∫–∏
        bottom_items = ['—é–±–∫–∞', '–¥–∂–∏–Ω—Å—ã', '–±—Ä—é–∫–∏', 'skirt', 'jeans', 'pants']
        compatible_items = [item_id for item_id in items 
                          if wardrobe_dict.get(item_id, {}).get('category', '').lower() not in bottom_items]
        return compatible_items
    
    return items
```

### 3. **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
- –£–º–µ–Ω—å—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–ø—Å—É–ª —Å 60 –¥–æ 9
- –£–º–µ–Ω—å—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ —Å 4000 –¥–æ 2000
- –£–±—Ä–∞–Ω—ã —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

## üîß **–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:**

### ‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ò–ò –º–æ–¥–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç
2. –ü—Ä–∞–≤–∏–ª–∞ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ç–∫–æ —É–∫–∞–∑–∞–Ω—ã
3. –°–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∫–æ–¥
4. CORS –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã

### ‚ùå **–ß—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –°–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback)
2. –ò–ò –º–æ–¥–µ–ª—å –≤—Å–µ –µ—â–µ —Å–æ–∑–¥–∞–µ—Ç –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–∞—è (30+ —Å–µ–∫—É–Ω–¥)

## üéØ **–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

### 1. **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ò–ò**
- –û—Ç–∫–ª—é—á–∏—Ç—å fallback –≥–µ–Ω–µ—Ä–∞—Ü–∏—é
- –ó–∞—Å—Ç–∞–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –ò–ò –º–æ–¥–µ–ª—å

### 2. **–£–ª—É—á—à–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**
- –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –ø—Ä–∞–≤–∏–ª —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –ø–ª–∞—Ç—å—è, –Ω–æ –∏ –¥—Ä—É–≥–∏–µ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### 3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- –£–º–µ–Ω—å—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç –µ—â–µ –±–æ–ª—å—à–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å
- –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### 4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –±–æ–ª—å—à–∏–º –≥–∞—Ä–¥–µ—Ä–æ–±–æ–º
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–∞–ø—Å—É–ª

## üìä **–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¶–µ–ª—å | –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ |
|----------|------|-------------------|
| **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** | 100% | ~0% (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç) |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | <10 —Å–µ–∫ | >30 —Å–µ–∫ |
| **–ö–∞—á–µ—Å—Ç–≤–æ** | –õ–æ–≥–∏—á–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ | –ù–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ |
| **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** | 100% | ~50% (fallback) |

## üîç **–û—Ç–ª–∞–¥–∫–∞:**

### –õ–æ–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ –ò–ò –º–æ–¥–µ–ª—å
ssh root@45.84.226.180 "journalctl -u wardrobe-app -n 50 --no-pager"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
grep "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–∞–ø—Å—É–ª–∞" –≤ –ª–æ–≥–∞—Ö

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–æ–π –ø—Ä–æ–º–ø—Ç –ø–æ–ª—É—á–∞–µ—Ç –º–æ–¥–µ–ª—å
grep "=== –ü–†–û–ú–ü–¢ –î–õ–Ø –ò–ò –ú–û–î–ï–õ–ò ===" –≤ –ª–æ–≥–∞—Ö
```

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:
```json
{
  "wardrobe": [
    {"id": 1, "category": "–ë–ª—É–∑–∫–∞", "description": "–ë–µ–ª–∞—è –±–ª—É–∑–∫–∞"},
    {"id": 2, "category": "–î–∂–∏–Ω—Å—ã", "description": "–°–∏–Ω–∏–µ –¥–∂–∏–Ω—Å—ã"},
    {"id": 3, "category": "–ü–ª–∞—Ç—å–µ", "description": "–ß–µ—Ä–Ω–æ–µ –ø–ª–∞—Ç—å–µ"},
    {"id": 4, "category": "–Æ–±–∫–∞", "description": "–ß–µ—Ä–Ω–∞—è —é–±–∫–∞"},
    {"id": 5, "category": "–ü–∏–¥–∂–∞–∫", "description": "–ß–µ—Ä–Ω—ã–π –ø–∏–¥–∂–∞–∫"}
  ],
  "profile": {"name": "–¢–µ—Å—Ç", "age": "25", "figura": "–ü–µ—Å–æ—á–Ω—ã–µ —á–∞—Å—ã"},
  "weather": {"main": {"temp": 20}}
}
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–∞–ø—Å—É–ª—ã —Å –ø–ª–∞—Ç—å–µ–º –Ω–µ –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∂–∏–Ω—Å—ã –∏–ª–∏ —é–±–∫–∏. 